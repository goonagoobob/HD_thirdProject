<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<title>개인정보 변경 | 더한섬닷컴</title>
<meta id="_csrf" name="_csrf" th:content="${_csrf.token}" />
<meta id="_csrf_header" name="_csrf_header"
	th:content="${_csrf.headerName}" />
<script>
	function changePasswordForm(element) {
		var token = $("meta[name='_csrf']").attr("content");
		var header = $("meta[name='_csrf_header']").attr("content");
		var originPassword = document.getElementById("originPassword").value;
		var newPassword = document.getElementById("newPassword").value;
		var newPasswordCheck = document.getElementById("newPasswordCheck").value;

		console.log("token" + token + ",header " + header + ",originPassword"
				+ originPassword + ",newPassword " + newPassword
				+ "newPasswordCheck " + newPasswordCheck);

		let element2 = {
			"originPassword" : originPassword,
			"newPassword" : newPassword,
			"newPasswordCheck" : newPasswordCheck
		}

		$.ajax({
			type : 'post',
			url : '/myPageRestAPI/changePasswordForm',
			data : JSON.stringify(element2),
			contentType : "application/json; charset=utf-8",
			dataType : "json",
			beforeSend : function(jqXHR, settings) {
				jqXHR.setRequestHeader(header, token);
			},
			success : function(num) {
				console.log("success");
				if (num == 1) {
					alert("비밀번호 변경 성공");
					window.location.replace("/myPage/myPage");
				}

				if (num == -1) {
					alert("로그인한 회원의 비밀번호가 맞지 않습니다.");
				}

				else if (num == -2) {
					alert("새로운 비밀번호가 같지 않습니다.");
				}
			},
			error : function(request, error) {
				alert("code: " + request.status + "\n" + "message : "
						+ request.responseText + "\n" + "eroor : " + error);
			}
		});
	}
</script>

<link rel="shortcut icon"
	href="http://thehandsome.com/_ui/mobile/common/images/common/thehandsome_ic_16x16.ico">
<link rel="apple-touch-icon"
	href="http://thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png">
<link rel="apple-touch-icon-precomposed"
	href="http://thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png">
<link rel="apple-touch-icon-120x120"
	href="http://thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png">
<link rel="apple-touch-icon-120x120-precomposed"
	href="http://thehandsome.com/_ui/mobile/common/images/common/app_ban_logo.png">
<link rel="shortcut icon" type="image/x-icon" media="all" href="//">

<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/font_443.css"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/jquery-ui.css"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/selectordie.css"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/default.css?202200826"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/display.css?20221107"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/assist.css?20220929"
	rel="stylesheet" type="text/css">
<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/devAssist.css"
	rel="stylesheet" type="text/css">

<link
	href="http://thehandsome.com/_ui/handsomemobile/css/handsomecss/popup.css"
	rel="stylesheet" type="text/css">

<script type="text/javascript">
	var handsomePageId = "hsPersonInfomationChangePage";
	var main_bul = false;
</script>

<script type="text/javascript">
	var goToMySmartFilterYn = "N";
	var gnbType = "br";
	var UserAgent = navigator.platform;
	var userPhoneOs = "";
	if (UserAgent.match(/i(Phone|Pod|Pad)/i) != null) {
		userPhoneOs = "IOS";
	} else {
		userPhoneOs = "ANDROID";
	}
</script>

<script type="text/javascript">
	var handsomeUserLoginYn = "Y";
</script>
<script type="text/javascript">
	var isoKoYn = "Y";
</script>
<script type="text/javascript">
	var handsomeIsoCode = "ko";
	var handsomeContextPath = "/ko";
</script>

<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery.vticker.js"></script>
<!-- 200318 Ã¬Â¶ÂÃªÂ°Â -->
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/masonry.pkgd.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery.form.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery.cookie.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery-ui.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/swiper.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/selectordie.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/jquery.bpopup.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/echarts.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/common.js?20210501"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/assist_common.js?v=20220630"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/assist_new.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/handsome.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/common_function.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/json2.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/SsoAjax.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/makePCookie.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/content.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/e-smart-zoom-jquery.min.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/popup.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/simplepagination.js"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/netfunnel.js"
	charset="UTF-8"></script>
<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/netfunnel_skin.js"
	charset="UTF-8"></script>

<script type="text/javascript"
	src="http://thehandsome.com/_ui/handsomemobile/js/unorm.js"></script>
<script type="text/javascript" async=""
	src="https://googleads.g.doubleclick.net/pagead/viewthroughconversion/943253288/?random=1675991870590&amp;cv=9&amp;fst=1675991870590&amp;num=1&amp;guid=ON&amp;resp=GooglemKTybQhCsO&amp;eid=375603260%2C466465925&amp;u_h=1067&amp;u_w=1707&amp;u_ah=1019&amp;u_aw=1707&amp;u_cd=24&amp;u_his=6&amp;u_tz=540&amp;u_java=false&amp;u_nplug=5&amp;u_nmime=2&amp;sendb=1&amp;ig=1&amp;frm=0&amp;url=https%3A%2F%2Fwww.thehandsome.com%2Fko%2Fmypage%2FpersonInfomationChange&amp;ref=https%3A%2F%2Fwww.thehandsome.com%2Fko%2Fmypage%2FpersonInfomationChangePWCheck&amp;tiba=%EA%B0%9C%EC%9D%B8%EC%A0%95%EB%B3%B4%20%EB%B3%80%EA%B2%BD%20%7C%20%EB%8D%94%ED%95%9C%EC%84%AC%EB%8B%B7%EC%BB%B4&amp;hn=www.googleadservices.com&amp;rfmt=3&amp;fmt=4"></script>
<script
	src="https://cdn.megadata.co.kr/js/socialLink/social_sns_config_min.js"
	type="text/javascript" defer="" async=""></script>
<link rel="stylesheet" type="text/css"
	href="//code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.css">
<link rel="stylesheet" type="text/css"
	href="//static.groobee.io/dist/g2/css/grb-recommend-list_v2.css">
<link rel="stylesheet" type="text/css"
	href="//static.groobee.io/dist/g2/css/custom-swiper.css">
</head>
<body>
	<div class="hsome_layerpop_contents lp_depth1 dir_h visible active">
		<div class="layerpop_wrap lp_change_pw_wrap">
			<div class="lyrpp_top">
				<a href="#none" class="lyrpp_close lyrpp_close_stl1 btn_lyrpp_close"><span>닫기</span></a>
				<h2>비밀번호 변경</h2>
			</div>


			<div class="lyrpp_mid">
				<!-- input_box s -->
				<div class="input_box mt0">
					<div class="ipt_tit mt5">
						<span>기존 비밀번호</span>
					</div>
					<div class="ipt_con">
						<input type="password" id="originPassword" maxlength="100"
							name="originPassword">
						<p class="err_box" id="oldPasswordCheckMsg">
							<!-- 비밀번호는 8~15자리 이하로 영문/숫자/특문을 혼합해 주세요. -->
						</p>

					</div>
				</div>
				<!-- input_box e -->
				<!-- input_box s -->
				<div class="input_box">
					<div class="ipt_tit">
						<span>새 비밀번호 입력</span>
					</div>
					<div class="ipt_con">
						<input type="password" id="newPassword" maxlength="100"
							name="newPassword">
						<p class="err_box" id="newPasswordDubMsg">
							<!-- 비밀번호는 8~15자리 이하로 영문/숫자/특문을 혼합해 주세요. -->
						</p>
					</div>
				</div>
				<!-- input_box e -->
				<!-- input_box s -->
				<div class="input_box">
					<div class="ipt_tit">
						<span>새 비밀번호 확인</span>
					</div>
					<div class="ipt_con">
						<input type="password" id="newPasswordCheck" maxlength="100"
							name="newPasswordCheck">
						<p class="err_box" id="newPasswordConfirmDubMsg">
							<!-- 비밀번호를 입력하세요. -->
						</p>
					</div>
				</div>
				<!-- input_box e -->

				<!-- layerpop_btns s -->
				<div class="btn_wrap btn_wrap_div2">
					<a href="#none" class="btnstl3 border_btn_gray" id="cancelBtn"><span>취소</span></a>
					<button type="button" class="btnstl3 solid_btn_blk" id="confirmBtn"
						onclick="changePasswordForm(this)">
						<span>변경사항 저장</span>
					</button>
				</div>
				<!-- layerpop_btns e -->
			</div>



		</div>

	</div>


</body>
</html>