<!-- *********************************
 * @function : 상품 카테고리 레이어
 * @author : 조일우
 * @Date : Feb 8. 2023
 * 상품 카테고리 레이어 완성 Feb 8. 2023
 * 상품 카테고리 DB 연동 Feb 9. 2023
 * 
 ********************************* -->
<html lagn="ko" xmlns:th="http://www.thymeleaf.org">
<!--footerFragment 선언-->
<div class="hsome_quickMenu_contents"
	th:fragment="footerFragment">
	<style rel=" stylesheet" type="text/css">
	body{line-height:inherit;} .btn_wrap .btn{margin-left:0;}
	.swiper-slide{font-size:0;}
	</style>
	<script type="text/javascript">
	//위로 스크롤시 푸터 표시
	var main_bul = false;
	var lastScrollPosition;
	var scrollPosition = 0;
	//브랜드 탭메뉴 클릭


				function tabchg(e) {
					scrollTopAnimate_s0(0);
					var $el = $(e);
					var $el_parent = $el.closest('li');
					var tab_id = $el.attr('id');
					var $tab_cont = $(tab_id);

					if (tab_id != "#brd_cate_0") {
						$("#brd_cate_0").hide();
					} else {
						$("[id^='brd_cate_']").hide();
					}

					$el_parent.siblings('li')
							.removeClass('on');
					$tab_cont.siblings('ul').hide();
					$el_parent.addClass('on');
					$tab_cont.show();
	}

	$(window).scroll(function(){
		scrollPosition = $(this).scrollTop();
		if (!main_bul) {//180909 메인 페이지가 아니라면 실행
			if ((scrollPosition < lastScrollPosition) || (scrollPosition <= 0)) {
				if (scrollPosition >= ($(document).height() - $(window).height())){
					if (scrollPosition != ($(document).height() - $(window).height())){
						$('.hsome_quickMenu').removeClass('active');
						$('a.hsome_topBtn').removeClass('upper');
					}
				} else {
					$('.hsome_quickMenu').addClass('active');
					$('a.hsome_topBtn').addClass('upper');
				}
			} else {
				$('.hsome_quickMenu').removeClass('active');
				$('a.hsome_topBtn').removeClass('upper');
			}
		}

		if (scrollPosition > 0) {
		    if (!main_bul) {
		        $('a.hsome_topBtn').addClass('active');
		    }
		} else {
			$('a.hsome_topBtn').removeClass('active');
		}

		lastScrollPosition = scrollPosition;
	});
	var tabRightAjax = 0;

	function tabLeft(e){
		if($(e).parent().attr('class') == ''){
			$(e).parent().addClass('on');
			$(e).parent().prev().removeClass('on');
			$('.fcs').css('transform','translateX(200px)');
			$('#tab_02').addClass('on');
			$('#tab_01').removeClass('on');
		}
		if (tabRightAjax == 0){
			$.ajax({
				 url : "/product/getCtgr", 
				 type : "GET", 
				 context: this,
				 success : function(data) { 
					var html5 = '';	
					 for(var i = 0; i < data.length; i++){
						 var html ='';
							html += '<li class="one_lists">';
							html += '<div class="one_wrap">';
							html += '<a class="one_link" onclick="depthTwoDown(this);" id="cate_we"> <span class="category_tit">';
							html += data[i].depth1;
							html += '</span>	</a></div>';
							html += '<ul class="two_depth">';
							html += '<li class="two_lists"><a href="/ko/c/br01/br01"	class="two_link"	onclick="'
							
							html += '';
							
							html += '">전체보기</a></li>';
							for(var j = 0; j <data[i].depth2VO.length; j++){
								html += '<li class="two_lists"><a href="javascript:noLink();" class="two_link js-cate-link"	onclick="depthThreeDown(this);">';
								html += data[i].depth2VO[j].depth2;
								html += '</a>';
								html += '<ul class="three_depth">';
								html += '<li class="three_lists"><a href="'
								
								html += ''
								
								html += '"	class="three_link" ">';
								html += '전체보기';
								html += '</a></li>'
								for(var k = 0; k < data[i].depth2VO[j].depth3VO.length; k++){
									html += '<li class="three_lists"><a href="/ko/c/we05/br01"	class="three_link" ">';
									html += data[i].depth2VO[j].depth3VO[k].depth3;
									html += '</a></li>'
								}
								html += '</ul></li>';

							}
							html += '</ul></li>';
							html5 += html
						}
					 $('#shop_list_ajax').html(html5);
					 tabRightAjax = 1;
				 
				 },
			 	error : function(request,error) {
					 alert("에러: 잠시후 다시 시도해주세요");
					 alert("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
				 }
		});
		};
	};
	function tabRight(e){
		if($(e).parent().attr('class') == ''){
		$(e).parent().addClass('on');
		$(e).parent().next().removeClass('on');
		$('.fcs').css('transform','translateX(0px)');
		$('#tab_02').removeClass('on');
		$('#tab_01').addClass('on');
		
		}
		

	};
	function depthTwoDown(e){

		if($(e).parent('.one_wrap').siblings().is('.two_depth')){
			if($(e).parent('.one_wrap').parent('li').hasClass('on')){
				$(e).parent('.one_wrap').parent('li').toggleClass('on');
				$('.brd_shop_cate_wrap2002').find('.one_depth').find('li').removeClass('disable');
			}else{
			    if($(e).parents('div').hasClass('brd_shop_cate_wrap2002')){// 200213 lnb 수정
                    $('.brd_shop_cate_wrap2002').find('.one_depth').find('li').removeClass('on');
                    $('.brd_shop_cate_wrap2002').find('.one_depth').find('li').removeClass('disable');
                    $(e).parent('.one_wrap').parent('li').addClass('on');
                    $(e).parent('.one_wrap').parent('li').siblings('li').addClass('disable');
                }else{
                    $(e).parent('.one_wrap').parents('.one_depth').find('li').removeClass('on');
                    $(e).parent('.one_wrap').parent('li').addClass('on');
                }
			}

			$(e).parents('.shop_cont').find('.two_depth, .three_depth, .four_depth, .five_depth').slideUp(300);//181001 수정(1뎁스 메뉴 클릭했을 때 하위메뉴 닫힘)
			$(e).parents('.shop_cont').find('.one_depth .on .two_depth').slideDown(300);

			return false;
		}
	};
	function depthThreeDown(e){
        var $this = $(e);
        var $parent = $this.parent('li');
        var $shop_cont = $this.parents('.shop_cont');

        if($this.siblings().is('.three_depth')){
            if($parent.hasClass('on')){
                $parent.removeClass('on');
            }else{
                $this.parents().find('.depth_two').children('li').removeClass('on');
                $this.parents().find('.two_depth').children('li').removeClass('on');
                $parent.addClass('on');
            }

            $shop_cont.find('.three_depth, .four_depth, .five_depth').slideUp(300);
            $shop_cont.find('.two_depth .on .three_depth').slideDown(300);

            return false;
        }
	}
	function brandChg(){
		$()
	}
	function layerUp(){
		$.ajax({
			 url : "/product/getBrdCtgr", 
			 type : "GET", 
			 context: this,
			 success : function(data) { 
				var html0 = '';	
				var html1 = '';	
				var html2 = '';	
				var html3 = '';	
				 for(var i = 0; i < data.length; i++){
					var html = '';
					var check1 = 0;
					var check2 = 0;
					var check3 = 0;
						html += '<li class="one_lists">';
						html += '<div class="one_wrap">';
						html += '<a class="one_link" onclick="depthTwoDown(this);"> <span class="logo ">';
						html += data[i].brand;
						html += '</span>	</a>	<button type="button" id="gnb_br_NEW_NORMAL_BRANDS_WE_BR01_like_0" class="like">찜하기</button></div>';
						html += '<div class="two_depth">';
						html += '<div class="two-depth-arrow">';
						html += '<div class="two_depth_inner">';
						html += '<ul class="depth_two depth_two_01">';
						html += '<li class="two_lists"><a href="/ko/c/br01/br01"	class="two_link"	onclick="'
						
						html += '';
						
						html += '">전체보기</a></li></ul>';
						html += '<ul class="depth_two depth_two_02">';
						for(var j = 0; j <data[i].depth1VO.length; j++){
							if(data[i].depth1VO[j].depth1 == '여성'){
								check1 = 1;
							}
							else if(data[i].depth1VO[j].depth1 == '남성'){
								check2 = 1;
							}
							else {
								check3 = 1;
							}
							html += '<li class="two_lists"><a href="javascript:noLink();" class="two_link js-brand-link"	onclick="depthThreeDown(this);">';
							html += data[i].depth1VO[j].depth1;
							html += '</a>';
							html += '<ul class="three_depth">';
								html += '<li class="three_lists"><a href="'
								
								html += ''
								
								html += '"	class="three_link" ">';
							for(var k = 0; k < data[i].depth1VO[j].depth2VO.length; k++){
								html += '<li class="three_lists"><a href="/ko/c/we05/br01"	class="three_link" ">';
								html += data[i].depth1VO[j].depth2VO[k].depth2;
								html += '</a></li>'
							}
							html += '</ul></li>';

						}
						html0 += html
						if(check1 == 1){
							html1 += html;
						}
						if(check2 == 1){
							html2 += html;
						}
						if(check3 == 1){
							html3 += html;
						}
						html0 += '</ul></div></div></div></li>';
						html1 += '</ul></div></div></div></li>';
						html2 += '</ul></div></div></div></li>';
						html3 += '</ul></div></div></div></li>';
					}
				 $('#brd_cate_0').html(html0);
				 $('#brd_cate_1').html(html1);
				 $('#brd_cate_2').html(html2);
				 $('#brd_cate_3').html(html3);
			 },
		 	error : function(request,error) {
				 alert("에러: 잠시후 다시 시도해주세요");
				 alert("code:"+request.status+"\n"+"message:"+request.responseText+"\n"+"error:"+error);
			 }
		 });
		
		$('.hsome_quickMenu_contents').addClass('active absolute');		
	    $('body').addClass('hold_body');
		if(handsomePageId == "mobileMain201903Page" && handsomePageId == "mobile-homepage" && goToMySmartFilterYn == "Y") {
			goToMySmartFilterYn = "N";
			setTimeout(function(){
				$("#navTab03").click();
        		setTimeout(function(){$("#mySmartFilterRing").click();}, 1);
        	}, 1);
		} else if(handsomePageId == "productList" || handsomePageId == "outletMainPage" || handsomePageId == "edShopMainPage") {
			if(gnbType == "ca" || gnbType == "ou" || gnbType == "ed") {
				setTimeout(function(){$("#navTab02").click();}, 1);
			}
			gnbType = "br";
        } else if('mainYoursPage' == handsomePageId) {
            if ( "ca" == mainYourPageParam ) {
                setTimeout(function(){$("#navTab02").click();}, 0);
                mainYourPageParam = 'br';
            }
        }
	};
		function navShopClose() {
			$('.hsome_quickMenu_contents').removeClass('active absolute');		
			$('body').removeClass('hold_body');

			if ("mobile-homepage" == handsomePageId
					|| "mobileMain201903Page" == handsomePageId
					|| "mobileMain202105Page" == handsomePageId) {
				location.reload();
			}
			if ('mainYoursPage' == handsomePageId) {
				getBrandCategoryList();
			}

		}

		function moveBrandLookBook(brandCode) {
			var url = "/ko/magazine/lookbook";
			var $form = $('<form></form>');
			$form.attr('action', url);
			$form.attr('method', 'post');
			$form
					.append("<input type='hidden' name='CSRFToken' value='06ce81b0-2bc7-4107-a593-1cd6a21ab93a' />");
			$form
					.append("<input type='hidden' name='paramBrandCode' value='" + brandCode + "' />");
			$form.appendTo('body');

			$form.submit();
		}
		$(document).ready(function (){
			
		});
	</script>
	<!-- Contents -->
	<div class="hand_footer_gnb_wrap hand_footer_gnb_wrap2002">
		<div class="header">
			<h2>샵</h2>
			<ul class="ui_tab red_border_tab active">
				<li class="" style="width: calc((100% - 50px)/2);"><a onclick="tabRight(this)" id="navTab01">브랜드</a></li>
				<li style="width: calc((100% - 87px)/2);" class=""><a onclick="tabLeft(this)" id="navTab02" >카테고리</a></li>
				<li class="fcs" style="width: calc((100% - 50px)/2);"></li>
			</ul>

			<a href="#" class="pre"><i>이전</i>스마트 필터링</a>
		</div>
		<div class="container">
			<div class="content">
				<div class="shop_cont">
					<div class="tab_cont">
						<!-- 브랜드 -->
						<script type="text/javascript">
							$(document).ready(
									function() {
										//scrollFix200217_3();//탑메뉴 스크롤 이벤트
										//scrollEvent2002_lnb();//탐메뉴 클릭 이벤트
										lnbBrandTab(); // 브랜드 탭메뉴 클릭
										if ($(".brd_shop_cate_wrap2002_single")
												.find(".like.on").length > 0) {
											$('.my_heart_flag2002').show();
										} else {
											$('.flag_fixed_wrap2002').css(
													"visibility", "hidden");
										}
										//$(".brd_shop_cate_wrap2002_single > ul:last").addClass("last_ul2002");

										var ua = navigator.userAgent
												.toLowerCase();
										if (ua.indexOf("iphone") > -1
												|| ua.indexOf("ipad") > -1
												|| ua.indexOf("ipod") > -1) {
											$('.hand_footer_gnb_wrap').css(
													'height',
													$('.hand_footer_gnb_wrap')
															.height() + 3);
										}
										//$('.hand_footer_gnb_wrap2002 .shop_cont .shop_list_brand.last_ul2002').css('height', $(window).height() - 157);

									});
							function scrollFix200217_3() {
								$('.hand_footer_gnb_wrap2002 .container')
										.scroll(
												function() {
													var y = $(
															'.hand_footer_gnb_wrap2002 .container')
															.scrollTop();
													var $fixedLayer = $('.brd_navigator_bar2002_wrap');
													var naviH = $fixedLayer
															.height();
													var $append_cnt2 = 0;
													if (y >= 0) {
														if (($append_cnt2 == 0)
																&& ($fixedLayer
																		.find('.fcs2').length == 0)) {
															$fixedLayer
																	.find('ul')
																	.append(
																			'<li class="fcs2"></li>');
															$append_cnt2 = 1;
														}
														$fixedLayer
																.find(
																		'.default_fcs2')
																.hide();
														var chLength = $fixedLayer
																.find('.scr_btn200217').length;
														var i = 1;
														var brd_index = 0;

														if ($("#brandCountryCd")
																.val() == 'ko') {
															if (163 >= $(
																	'#brd_cate_'
																			+ (i))
																	.offset().top
																	&& 163 < $(
																			'#brd_cate_'
																					+ (i + 1))
																			.offset().top) {
																brd_index = i - 1;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															} else if (163 >= $(
																	'#brd_cate_'
																			+ (i + 1))
																	.offset().top
																	&& 163 < $(
																			'#brd_cate_'
																					+ (i + 2))
																			.offset().top) {
																brd_index = i;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															} else if (163 >= $(
																	'#brd_cate_'
																			+ (i + 2))
																	.offset().top
																	&& 163 < $(
																			'#brd_cate_'
																					+ (i + 3))
																			.offset().top) {
																brd_index = i + 1;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															} else if (163 >= $(
																	'#brd_cate_'
																			+ (i + 3))
																	.offset().top) {
																brd_index = i + 2;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															}
														} else {
															if (163 >= $(
																	'#brd_cate_'
																			+ (i))
																	.offset().top
																	&& 163 < $(
																			'#brd_cate_'
																					+ (i + 1))
																			.offset().top) {
																brd_index = i - 1;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															} else if (163 >= $(
																	'#brd_cate_'
																			+ (i + 1))
																	.offset().top
																	&& 163 < $(
																			'#brd_cate_'
																					+ (i + 2))
																			.offset().top) {
																brd_index = i;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															} else if (163 >= $(
																	'#brd_cate_'
																			+ (i + 2))
																	.offset().top) {
																brd_index = i + 1;
																translateByIndex(
																		brd_index,
																		$fixedLayer);
															}
														}
													}
												});
							}
							function scrollEvent2002_lnb() {
								var $append_cnt2 = 0;
								$(".scr_btn200217 a")
										.on(
												"click",
												function(event) {
													var $fixedLayer = $('.brd_navigator_bar2002_wrap');
													if (($append_cnt2 == 0)
															&& ($fixedLayer
																	.find('.fcs2').length == 0)) {
														$fixedLayer
																.find('ul')
																.append(
																		'<li class="fcs2"></li>');
														$append_cnt2 = 1;
													}
													event.preventDefault();
													var $list1_H = $(
															'#brd_cate_1')
															.outerHeight() + 12, $list2_H = $(
															'#brd_cate_2')
															.outerHeight() + 12, $list3_H = $(
															'#brd_cate_3')
															.outerHeight() + 12, $list4_H = $(
															'#brd_cate_4')
															.outerHeight() + 12;
													var _total_height = 0;
													if (this.hash == "#brd_cate_1") {
														_total_height = 0;
														scrollTopAnimate(_total_height);
													} else if (this.hash == "#brd_cate_2") {
														_total_height = $list1_H;
														scrollTopAnimate(_total_height);
													} else if (this.hash == "#brd_cate_3") {
														_total_height = $list1_H
																+ $list2_H;
														scrollTopAnimate(_total_height);
													} else if (this.hash == "#brd_cate_4"
															&& $(
																	"#brandCountryCd")
																	.val() == 'ko') {
														_total_height = $list1_H
																+ $list2_H
																+ $list3_H;
														scrollTopAnimate(_total_height);
													}
												});
							};
							function scrollTopAnimate(_total_height) {
								$('.hand_footer_gnb_wrap2002 .container')
										.animate({
											scrollTop : _total_height
										}, 800, 'swing');
							}
							function scrollTopAnimate_s0(_total_height) {
								$('.hand_footer_gnb_wrap2002 .container')
										.animate({
											scrollTop : _total_height
										}, 0, 'swing');
							}
							function translateByIndex(brd_index, $fixedLayer) {
								var _fixedLayer = $fixedLayer;
								_fixedLayer.find('li').eq(brd_index).siblings(
										'li').removeClass('on');
								_fixedLayer.find('li').eq(brd_index).addClass(
										'on');
								_fixedLayer.find('.fcs2').css(
										{
											transform : 'translateX('
													+ _fixedLayer.find('li')
															.eq(brd_index)
															.position().left
													+ 'px)'
										});
							}

							var navParentBrandCode = "";
							var navBrandCode = "";
							var navBrandName = "";
							var navSortIndex = "";

							function applyNavBrand(id, tabType) { // tabType : single, all
								var valueSplitArray = $("#" + id).val().split(
										"#");

								if ((id.indexOf("_BR44") > -1 || id
										.indexOf("_BR08") > -1)
										&& tabType == "all") {
									if (id.indexOf("_WE_BR08") > -1
											|| id.indexOf("_WE_BR44") > -1) {
										if ($("#" + id + "_like_0").hasClass(
												"on")) {
											removeNavBrand(id, tabType);
											$("#whereLikeCancel").val("heart");
										} else {
											gaLike(valueSplitArray[2]);
											if (navBrandCode != "") {
												navParentBrandCode = ","
														+ navParentBrandCode;
												navBrandCode = ","
														+ navBrandCode;
												navBrandName = ","
														+ navBrandName;
												navSortIndex = ","
														+ navSortIndex;
											}
											navParentBrandCode = valueSplitArray[0]
													+ navParentBrandCode;
											navBrandCode = valueSplitArray[1]
													+ navBrandCode;
											navBrandName = valueSplitArray[2]
													+ navBrandName;
											navSortIndex = $(
													".brd_shop_cate_wrap2002_single")
													.find(".like").length
													- $(
															".brd_shop_cate_wrap2002_single")
															.find(".like.on").length
													+ navSortIndex;
											setNavBrand(id, "set", tabType);
										}
									}
								} else {
									if (valueSplitArray[4] == "true") {
										removeNavBrand(id, tabType);
										$("#whereLikeCancel").val("heart");
									} else {
										gaLike(valueSplitArray[2]);
										if (navBrandCode != "") {
											navParentBrandCode = ","
													+ navParentBrandCode;
											navBrandCode = "," + navBrandCode;
											navBrandName = "," + navBrandName;
											navSortIndex = "," + navSortIndex;
										}
										navParentBrandCode = valueSplitArray[0]
												+ navParentBrandCode;
										navBrandCode = valueSplitArray[1]
												+ navBrandCode;
										navBrandName = valueSplitArray[2]
												+ navBrandName;
										navSortIndex = $(
												".brd_shop_cate_wrap2002_single")
												.find(".like").length
												- $(
														".brd_shop_cate_wrap2002_single")
														.find(".like.on").length
												+ navSortIndex;
										setNavBrand(id, "set", tabType);
									}
								}

							}

							function replaceNavBrandSplitStr(str1, str2, str3,
									str4, str5) {
								var replaceStr2 = "";
								var replaceStr3 = "";
								var replaceStr4 = "";
								var replaceStr5 = "";
								var replaceStrArr2 = str2.split(",");
								var replaceStrArr3 = str3.split(",");
								var replaceStrArr4 = str4.split(",");
								var replaceStrArr5 = str5.split(",");
								replaceStrArr2.reverse();
								replaceStrArr3.reverse();
								replaceStrArr4.reverse();
								replaceStrArr5.reverse();

								for (var i = 0; i < replaceStrArr2.length; i++) {
									var checkStr = replaceStrArr2[i] + "_"
											+ replaceStrArr3[i];
									//var checkStr = replaceStrArr2[i]+"_"+replaceStrArr3[i]+"_"+replaceStrArr4[i];
									//var checkStr = replaceStrArr3[i];
									if (checkStr != str1) {
										if (replaceStr2 == "") {
											replaceStr2 = replaceStrArr2[i];
											replaceStr3 = replaceStrArr3[i];
											replaceStr4 = replaceStrArr4[i];

										} else {
											replaceStr2 = replaceStrArr2[i]
													+ "," + replaceStr2;
											replaceStr3 = replaceStrArr3[i]
													+ "," + replaceStr3;
											replaceStr4 = replaceStrArr4[i]
													+ "," + replaceStr4;

										}
									}

									if (i < replaceStrArr2.length - 1) {
										if (replaceStr5 == "") {
											replaceStr5 = replaceStrArr5[i];
										} else {
											replaceStr5 = replaceStrArr5[i]
													+ "," + replaceStr5;
										}
									}
								}
								navParentBrandCode = replaceStr2;
								navBrandCode = replaceStr3;
								navBrandName = replaceStr4;
								navSortIndex = replaceStr5;
							}

							function removeNavBrand(id, tabType) { //tabType : single, all
								$
										.ajax({
											type : "GET",
											url : "/ko/intro/setCategoryList",
											data : {
												"brandName" : "",
												"brandCode" : "",
												"parentBrandCode" : "",
												"sortIndex" : ""
											},
											success : function(data) {
												var valueSplitArray = $(
														"#" + id).val().split(
														"#");
												$("#" + id)
														.val(
																valueSplitArray[0]
																		+ "#"
																		+ valueSplitArray[1]
																		+ "#"
																		+ valueSplitArray[2]
																		+ "#"
																		+ valueSplitArray[3]
																		+ "#false#"
																		+ valueSplitArray[5]);
												var replaceStr = valueSplitArray[0]
														+ "_"
														+ valueSplitArray[1];
												//var replaceStr = valueSplitArray[0]+"_"+valueSplitArray[1]+"_"+valueSplitArray[2];
												//var replaceStr = valueSplitArray[1];
												replaceNavBrandSplitStr(
														replaceStr,
														navParentBrandCode,
														navBrandCode,
														navBrandName,
														navSortIndex);

												if ((id.indexOf("_BR44") > -1 || id
														.indexOf("_BR08") > -1)
														&& tabType == "single") {
													var idReverse = "";
													if (id.indexOf("_WE_BR08") > -1
															|| id
																	.indexOf("_WE_BR44") > -1) {
														idReverse = id.replace(
																"_WE_", "_ME_");
														if (!$(
																"#"
																		+ id
																		+ "_like")
																.hasClass("on")
																&& !$(
																		"#"
																				+ idReverse
																				+ "_like")
																		.hasClass(
																				"on")) {
															$(
																	"#"
																			+ id
																			+ "_like")
																	.removeClass(
																			"on");
															$(
																	"#"
																			+ id
																			+ "_like_0")
																	.removeClass(
																			"on");
														}
													} else {
														idReverse = id.replace(
																"_ME_", "_WE_");
														if (!$(
																"#"
																		+ id
																		+ "_like")
																.hasClass("on")
																&& !$(
																		"#"
																				+ idReverse
																				+ "_like")
																		.hasClass(
																				"on")) {
															$(
																	"#"
																			+ id
																			+ "_like")
																	.removeClass(
																			"on");
															$(
																	"#"
																			+ idReverse
																			+ "_like_0")
																	.removeClass(
																			"on");
														}
													}
												} else {
													$("#" + id + "_like")
															.removeClass("on");
													$("#" + id + "_like_0")
															.removeClass("on");
												}

												if ((id.indexOf("_BR44") > -1 || id
														.indexOf("_BR08") > -1)
														&& tabType == "all") {
													if (id.indexOf("_WE_BR08") > -1
															|| id
																	.indexOf("_WE_BR44") > -1) {
														id = id.replace("_WE_",
																"_ME_");
													} else {
														id = id.replace("_ME_",
																"_WE_");
													}

													var valueSplitArray2 = $(
															"#" + id).val()
															.split("#");
													if (valueSplitArray2[4] == "true") {
														$("#" + id)
																.val(
																		valueSplitArray2[0]
																				+ "#"
																				+ valueSplitArray2[1]
																				+ "#"
																				+ valueSplitArray2[2]
																				+ "#"
																				+ valueSplitArray2[3]
																				+ "#false#"
																				+ valueSplitArray2[5]);
														var replaceStr2 = valueSplitArray2[0]
																+ "_"
																+ valueSplitArray2[1];
														replaceNavBrandSplitStr(
																replaceStr2,
																navParentBrandCode,
																navBrandCode,
																navBrandName,
																navSortIndex);
														$("#" + id + "_like")
																.removeClass(
																		"on");
													}
													$("#" + id + "_like_0")
															.removeClass("on");
												}

												if (navBrandCode != "") {
													setNavBrand(id, "remove",
															tabType);
												} else {
													if ($("#fadeEff").hasClass(
															"active")) {
														$("#fadeEff")
																.removeClass(
																		"active");
													}
													$('.flag_fixed_wrap2002')
															.css("visibility",
																	"hidden");
													$('.my_heart_flag2002')
															.css("visibility",
																	"hidden");
												}

												var whereLikeCancel = $(
														"#whereLikeCancel")
														.val();
												gaNotLike(valueSplitArray[2],
														whereLikeCancel);
												$("#whereLikeCancel").val("");
											},
											error : function(e) {
												console.log("error", e);
											}
										});

							}
							function setNavBrand(id, gubun, tabType) { // gubun : set, remove | tabType : single, all
								var valueSplitArray = $("#" + id).val().split(
										"#");
								var setNavParentBrandCode = navParentBrandCode;
								var setNavBrandCode = navBrandCode;
								var setNavBrandName = navBrandName;
								var setNavSortIndex = navSortIndex;
								var tmpBr08Cnt = 0;
								var tmpBr44Cnt = 0;

								$
										.ajax({
											type : "GET",
											url : "/ko/intro/setCategoryList",
											data : {
												"brandName" : setNavBrandName,
												"brandCode" : setNavBrandCode,
												"parentBrandCode" : setNavParentBrandCode,
												"sortIndex" : setNavSortIndex
											},
											success : function(data) {

												if (gubun == "set") {
													$("#" + id)
															.val(
																	valueSplitArray[0]
																			+ "#"
																			+ valueSplitArray[1]
																			+ "#"
																			+ valueSplitArray[2]
																			+ "#"
																			+ valueSplitArray[3]
																			+ "#true#"
																			+ valueSplitArray[5]);
													if (!$("#" + id + "_like")
															.hasClass("on")) {
														$("#" + id + "_like")
																.addClass("on");
													}
													if (!$("#" + id + "_like_0")
															.hasClass("on")) {
														$("#" + id + "_like_0")
																.addClass("on");
													}

													if ((id.indexOf("_BR44") > -1 || id
															.indexOf("_BR08") > -1)
															&& tabType == "all") {
														if (id
																.indexOf("_WE_BR08") > -1
																|| id
																		.indexOf("_WE_BR44") > -1) {
															id = id.replace(
																	"_WE_",
																	"_ME_");
														} else {
															id = id.replace(
																	"_ME_",
																	"_WE_");
														}

														var valueSplitArray2 = $(
																"#" + id).val()
																.split("#");
														if (valueSplitArray[4] == "false") {
															applyNavBrand(id,
																	"single");
														}
													}

													if ((id.indexOf("_BR44") > -1 || id
															.indexOf("_BR08") > -1)
															&& tabType == "single") {
														if (id
																.indexOf("_ME_BR08") > -1
																|| id
																		.indexOf("_ME_BR44") > -1) {
															id = id.replace(
																	"_ME_",
																	"_WE_");
															if (!$(
																	"#"
																			+ id
																			+ "_like_0")
																	.hasClass(
																			"on")) {
																$(
																		"#"
																				+ id
																				+ "_like_0")
																		.addClass(
																				"on");
															}
														}
													}
												}

												var setBrandListHtml = "";
												var parentBrandCodeArr = navParentBrandCode
														.split(",");
												var brandCodeArr = navBrandCode
														.split(",");
												var brandNameArr = navBrandName
														.split(",");

												for (var i = 0; i < parentBrandCodeArr.length; i++) {
													if (brandCodeArr[i] == "BR08") {
														tmpBr08Cnt++;
														if (tmpBr08Cnt > 1) {
															setBrandListHtml += "<li class=\"flag swiper-slide active\" style=\"margin-right: 6px; display:none;\"> \n";
														} else {
															setBrandListHtml += "<li class=\"flag swiper-slide active\" style=\"margin-right: 6px;\"> \n";
														}
													} else if (brandCodeArr[i] == "BR44") {
														tmpBr44Cnt++;
														if (tmpBr44Cnt > 1) {
															setBrandListHtml += "<li class=\"flag swiper-slide active\" style=\"margin-right: 6px; display:none;\"> \n";
														} else {
															setBrandListHtml += "<li class=\"flag swiper-slide active\" style=\"margin-right: 6px;\"> \n";
														}
													} else {

														setBrandListHtml += "<li class=\"flag swiper-slide active\" style=\"margin-right: 6px;\"> \n";
													}

													setBrandListHtml += "   <a href=\"/ko/c/"
															+ brandCodeArr[i]
																	.toLowerCase()
															+ "/"
															+ brandCodeArr[i]
																	.toLowerCase()
															+ "\" class=\"name\" onclick=\"GA_Event('공통_브랜드', '하단 좋아요', '"
															+ escape(brandNameArr[i])
															+ "');\">"
															+ brandNameArr[i]
															+ "</a> \n";
													setBrandListHtml += "   <a href=\"javascript:noLink();\" class=\"delete\" id=\"gnb_br_"
															+ parentBrandCodeArr[i]
															+ "_"
															+ brandCodeArr[i]
															+ "_delete\" onclick=\"removeNavBrand('gnb_br_"
															+ parentBrandCodeArr[i]
															+ "_"
															+ brandCodeArr[i]
															+ "', 'all');\">삭제</a> \n";
													setBrandListHtml += "</li> \n";
												}
												$("#setBrandList").html(
														setBrandListHtml);
												$('.my_heart_flag2002')
														.css("visibility",
																"visible");
											},
											error : function(e) {
												alert("고객님의 네트워크에서 짧은 시간 동안 너무 많은 요청이 있었습니다.");
												location.reload();
												console.log("error", e);
											}
										});
							}

							function gaLike(brandName) {
								GA_Event('공통_브랜드', '좋아요', brandName);
							}

							function gaNotLike(brandName, gubun) {
								var v_action = "좋아요 취소";
								if (gubun != "heart") {
									v_action = "하단 좋아요 취소";
								}
								GA_Event('공통_브랜드', v_action, brandName);
							}

							//브랜드 탭메뉴 클릭
							function lnbBrandTab() {
								$('.js-brand-tab-btn-2012 a').on(
										'click',
										function() {
											scrollTopAnimate_s0(0);
											var $el = $(this);
											var $el_parent = $el.closest('li');
											var tab_id = $el.attr('id');
											var $tab_cont = $(tab_id);

											if (tab_id != "#brd_cate_0") {
												$("#brd_cate_0").hide();
											} else {
												$("[id^='brd_cate_']").hide();
											}

											$el_parent.siblings('li')
													.removeClass('on');
											$tab_cont.siblings('ul').hide();
											$el_parent.addClass('on');
											$tab_cont.show();
										});
							}
						</script>
						<div class="cont on" id="tab_01">

							<div class="brd_navigator_bar2012_wrap">
								<div class="brd_navigator_bar2012">
									<ul class="ui_tab2_202012">
										<li class="js-brand-tab-btn-2012 on" style="width:25%"><a href="#"
											id="#brd_cate_0" onclick="tabchg(this)">
												전체</a></li>
										<li class="js-brand-tab-btn-2012" style="width:25%"><a href="#"
											id="#brd_cate_1" onclick="tabchg(this)">
												여성</a></li>
										<li class="js-brand-tab-btn-2012" style="width:25%"><a href="#"
											id="#brd_cate_2" onclick="tabchg(this)">
												남성</a></li>
										<li class="js-brand-tab-btn-2012" style="width:25%"><a href="#"
											id="#brd_cate_3" onclick="tabchg(this)">
												잡화</a></li>
									</ul>
								</div>
							</div>


							<div class="brd_shop_cate_wrap2002">
								<input type="hidden" value="ko" id="brandCountryCd"> <input
									type="hidden" value="" id="whereLikeCancel">
								<ul class="shop_list_brand one_depth" id="brd_cate_0"></ul>
								<div class="brd_shop_cate_wrap2002_single">
								<ul class="shop_list_brand one_depth" id="brd_cate_1" style="display: none;"></ul>
								
								<ul class="shop_list_brand one_depth" id="brd_cate_2" style="display: none;"></ul>
								<ul class="shop_list_brand one_depth" id="brd_cate_3" style="display: none;"></ul>
								</div>
								</div>
							</div>
						<!--// 브랜드 -->
						<!-- 카테고리 -->
						<script type="text/javascript">
							var categoryCode = "";
							var categoryName = "";
							var flag = "";
							var processYn = false;

							var lnbLinkUrl = "";
							var lnbImageUrl = "";
							var lnbMenuName = "";
							$(document).ready(function() {
								shopCateListHeightSet();//카테고리 텝 컨텐츠 높이 설정
								setLnbMenu(); //이미지메뉴 셋팅
							});
							function setLnbMenu() {
								var html = '';
								var liveCommerceBannerHtml = '';

								html += '<li>';
								html += '<a href="/magazine/lookbook" onclick="GA_Event(\'공통_카테고리\', \'컨텐츠\', \'룩북\');">';
								html += '<div class="maga_wrap">';
								html += '<div class="circle_img">';
								html += '<img src="http://cdn.thehandsome.com/mobile/lnb/image/20220421_37113375502350198_ko.jpg" alt="circle img">';
								html += '</div>';
								html += '<p class="maga_txt">룩북</p>';
								html += '</div>';
								html += '</a>';
								html += '</li>';

								html += '<li>';
								html += '<a href="/magazine/exhibitions" onclick="GA_Event(\'공통_카테고리\', \'컨텐츠\', \'기획전\');">';
								html += '<div class="maga_wrap">';
								html += '<div class="circle_img">';
								html += '<img src="http://cdn.thehandsome.com/mobile/lnb/image/20220421_37113357562565650_ko.jpg" alt="circle img">';
								html += '</div>';
								html += '<p class="maga_txt">기획전</p>';
								html += '</div>';
								html += '</a>';
								html += '</li>';

								html += '<li>';
								html += '<a href="/magazine/events" onclick="GA_Event(\'공통_카테고리\', \'컨텐츠\', \'이벤트\');">';
								html += '<div class="maga_wrap">';
								html += '<div class="circle_img">';
								html += '<img src="http://cdn.thehandsome.com/mobile/lnb/image/20220421_37113881020441632_ko.jpg" alt="circle img">';
								html += '</div>';
								html += '<p class="maga_txt">이벤트</p>';
								html += '</div>';
								html += '</a>';
								html += '</li>';

								html += '<li>';
								html += '<a href="/magazine/submain" onclick="GA_Event(\'공통_카테고리\', \'컨텐츠\', \'THE 매거진\');">';
								html += '<div class="maga_wrap">';
								html += '<div class="circle_img">';
								html += '<img src="http://cdn.thehandsome.com/mobile/lnb/image/20220421_37113368536417995_ko.jpg" alt="circle img">';
								html += '</div>';
								html += '<p class="maga_txt">THE 매거진</p>';
								html += '</div>';
								html += '</a>';
								html += '</li>';

								$(
										".lnb_themaga_sns_wrap2004 .lnb_themagazine_2004 ul")
										.append(html);
								if ("방송 전/후" != "") {
									liveCommerceBannerHtml += '<div class="live_shopping_banner2008">';
									liveCommerceBannerHtml += '<a href="/live/liveTV" onclick="GA_Event(\'공통_카테고리\', \'컨텐츠\', \'핸썸TV\');">';
									liveCommerceBannerHtml += '<img src="http://cdn.thehandsome.com/_ui/handsomemobile/images/event/banner_handsometv_vod.png" alt="circle img">';
									liveCommerceBannerHtml += '</a>';
									liveCommerceBannerHtml += '</div>';

									$(
											".lnb_themaga_sns_wrap2004 .lnb_themagazine_2004")
											.after(liveCommerceBannerHtml);
								}
							}
							function applyCategory(id) {
								if (!processYn) {
									var valueSplitArray = $("#" + id).val()
											.split("|");

									if (valueSplitArray[3] == "true") {
										removeCategory(id);
									} else {
										if (categoryCode != "") {
											categoryCode += "|";
											categoryName += "|";
											flag += "|";
										}
										categoryCode += valueSplitArray[0];
										categoryName += valueSplitArray[1];
										flag += valueSplitArray[2];
										setCategory(id, "set");
									}

								}
							}

							function replaceSplitStr(str1, str2) {
								var replaceStr = "";
								var replaceStrArr = str1.split("|");
								var replaceStrCheck = "N";
								for (var i = 0; i < replaceStrArr.length; i++) {
									if (replaceStrArr[i] == str2
											&& replaceStrCheck == "N") {
										replaceStrCheck = "Y";
									} else {
										if (replaceStr == "") {
											replaceStr = replaceStrArr[i];
										} else {
											replaceStr += "|"
													+ replaceStrArr[i];
										}
									}
								}
								return replaceStr;
							}

							// 재정렬
							function replaceSplitStr2(str, idx) {
								var replaceStr = "";
								var replaceStrArr = str.split("|");
								for (var i = 0; i < replaceStrArr.length; i++) {
									if (i != idx) {
										if (replaceStr == "") {
											replaceStr = replaceStrArr[i];
										} else {
											replaceStr += "|"
													+ replaceStrArr[i];
										}
									}
								}
								return replaceStr;
							}

							function replaceSplitIdx(str1, str2) {
								var replaceIdx = "";
								var replaceStrArr = str1.split("|");
								for (var i = 0; i < replaceStrArr.length; i++) {
									if (replaceStrArr[i] == str2) {
										replaceIdx = i;
										break;
									}
								}
								return replaceIdx;
							}

							function removeCategory(id) {
								if (!processYn) {
									processYn = true;
									var valueSplitArray = $("#" + id).val()
											.split("|");
									var replaceIdx = '';
									replaceIdx = replaceSplitIdx(categoryCode,
											valueSplitArray[0]);
									categoryCode = replaceSplitStr(
											categoryCode, valueSplitArray[0]);
									//             categoryName = replaceSplitStr(categoryName,valueSplitArray[1]);
									//             flag = replaceSplitStr(flag,valueSplitArray[2]);
									categoryName = replaceSplitStr2(
											categoryName, replaceIdx);
									flag = replaceSplitStr2(flag, replaceIdx);
									$
											.ajax({
												type : "GET",
												url : "/ko/intro/setUserCategory",
												data : {
													"categoryName" : "",
													"categoryCode" : "",
													"flag" : ""
												},
												success : function(data) {
													$("#" + id)
															.val(
																	valueSplitArray[0]
																			+ "|"
																			+ valueSplitArray[1]
																			+ "|"
																			+ valueSplitArray[2]
																			+ "|false");
													var setUserCategoryHtml = "";
													var categoryCodeArr = categoryCode
															.split("|");
													var categoryNameArr = categoryName
															.split("|");
													var flagArr = flag
															.split("|");
													for (var i = categoryCodeArr.length - 1; i >= 0; i--) {
														if (categoryCodeArr[i] != "") {
															setUserCategoryHtml += "<li class=\"flag swiper-slide "+flagArr[i]+" active\" style=\"margin-right: 6px;\"> \n";
															setUserCategoryHtml += "    <a href=\"/ko/c/"+categoryCodeArr[i]+"\" class=\"name\">"
																	+ categoryNameArr[i]
																	+ "</a> \n";
															setUserCategoryHtml += "    <a href=\"javascript:noLink();\" class=\"delete\" onclick=\"removeCategory('gnb_"
																	+ categoryCodeArr[i]
																	+ "');\">삭제</a> \n";
															setUserCategoryHtml += "</li> \n";
														}
													}

													$("#setUserCategory")
															.html(
																	setUserCategoryHtml);
													$("#" + id + "_like")
															.removeClass("on");
													if ($('#setUserCategory li').length == 0) {
														$(
																quickSCaterogyTagSelector)
																.removeClass(
																		'active');
														$(
																'.lnb_themaga_sns_wrap2004')
																.css(
																		'padding-bottom',
																		'0');
														var $shopCateList = $('.hand_footer_gnb_wrap2002 .cate_shop_cate_wrap2004 .shop_list_category');
														var shopCateListH = $(
																window)
																.height()
																- (107 + $(
																		'.lnb_themaga_sns_wrap2004')
																		.outerHeight());
														$shopCateList.css(
																'min-height',
																shopCateListH
																		+ 'px');
													}

													processYn = false;
													if (categoryCode != "") { // 남은 선호카테고리가 있을 때 재등록
														setCategory(id,
																"remove");
													}
												},
												error : function(e) {
													console.log("error", e);
												}
											});
								}
							}

							function setCategory(id, gubun) {
								if (!processYn) {
									processYn = true;
									var valueSplitArray = $("#" + id).val()
											.split("|");
									$
											.ajax({
												type : "GET",
												url : "/ko/intro/setUserCategory",
												data : {
													"categoryName" : categoryName,
													"categoryCode" : categoryCode,
													"flag" : flag
												},
												success : function(data) {
													if (gubun == "set") {
														$("#" + id)
																.val(
																		valueSplitArray[0]
																				+ "|"
																				+ valueSplitArray[1]
																				+ "|"
																				+ valueSplitArray[2]
																				+ "|true");
													}
													var setUserCategoryHtml = "";
													var categoryCodeArr = categoryCode
															.split("|");
													var categoryNameArr = categoryName
															.split("|");
													var flagArr = flag
															.split("|");
													for (var i = categoryCodeArr.length - 1; i >= 0; i--) {
														setUserCategoryHtml += "<li class=\"flag swiper-slide "+flagArr[i]+" active\" style=\"margin-right: 6px;\"> \n";
														setUserCategoryHtml += "	<a href=\"/ko/c/"
																+ categoryCodeArr[i]
																+ "\" class=\"name\" onclick=\"GA_Event('공통_카테고리', '좋아요한_카테고리', '"
																+ escape(categoryNameArr[i]
																		.replace(
																				"&44;",
																				","))
																+ "');\" >"
																+ categoryNameArr[i]
																+ "</a> \n";
														setUserCategoryHtml += "	<a href=\"javascript:noLink();\" class=\"delete\" onclick=\"removeCategory('gnb_"
																+ categoryCodeArr[i]
																+ "');\">삭제</a> \n";
														setUserCategoryHtml += "</li> \n";
													}

													$("#setUserCategory")
															.html(
																	setUserCategoryHtml);
													quickSCaterogyTagSwiper
															.update();
													processYn = false;
												},
												error : function(e) {
													console.log("error", e);
												}
											});
								}

							}

							function shopCateListHeightSet() {
								var winH = $(window).height();
								/* bottomConH = $('.lnb_themaga_sns_wrap2004').outerHeight(); */
								if ($('#setUserCategory').find('.flag').length >= 1) { // 즐겨찾기한 카테고리가 있을 때
									$('.lnb_themaga_sns_wrap2004').css(
											'padding-bottom', '56px');
									var $shopCateList = $('.hand_footer_gnb_wrap2002 .cate_shop_cate_wrap2004 .shop_list_category');
									var shopCateListH = $(window).height()
											- (107 + $(
													'.lnb_themaga_sns_wrap2004')
													.outerHeight());
									$shopCateList.css('min-height',
											shopCateListH + 'px');
								} else {
									$('.lnb_themaga_sns_wrap2004').css(
											'padding-bottom', '0');
									var $shopCateList = $('.hand_footer_gnb_wrap2002 .cate_shop_cate_wrap2004 .shop_list_category');
									var shopCateListH = $(window).height()
											- (107 + $(
													'.lnb_themaga_sns_wrap2004')
													.outerHeight());
									$shopCateList.css('min-height',
											shopCateListH + 'px');
								}
								var $shopCateList = $('.hand_footer_gnb_wrap2002 .cate_shop_cate_wrap2004 .shop_list_category');
								$shopCateList.css('min-height', shopCateListH
										+ 'px');
							}
						</script>
						<div class="cont" id="tab_02">
							<div class="cate_shop_cate_wrap2004">
								<ul class="shop_list_category ctgr one_depth" id="shop_list_ajax"
									style="min-height: 808px;">
									
								</ul>
						
								<!--flag_fixed_wrap2004 -->
								<div class="flag_fixed_wrap2004">
									<div
										class="flag_wrap scroll_flag swiper-container swiper-container-horizontal swiper-container-free-mode swiper-container-android swiper-container-wp8-horizontal">
										<ul class="swiper-wrapper " id="setUserCategory"
											style="transition-duration: 0ms;">
											<!-- 찜한 카테고리가 한 개라도 있으면 ul 태그에 active 클래스 붙임 -->
										</ul>
										<div class="my_heart_flag2002">
											<div>
												MY<span class="ico_heart200214">heart</span> <span
													class="white_action200219"></span>
											</div>
										</div>
									</div>
								</div>
								<!--//flag_fixed_wrap2004 -->
							</div>
						</div>
						<!--// 카테고리 -->
						<!-- smart -->
						<script type="text/javascript">
							var deviceName = "";

							var currecy = ""; // USD, CNY
							var rate = ""; // 환율
							var simbol = ""; // 심볼
							$(document).ready(function() {

								smartFilterSearch();
							});

							var smartFilterColorRgbArr = "#fae7c4,#fae7c4,#000000,#0f45bc,#673915,#741313,#876c41,#ffc733,#0f6f0e,#444445,#fff8d9,#465626,#9c81bb,#9d9fa2,#95d0ab,#534741,#061836,#5d682d,#ee6423,#ea589b,#833b95,#ec1e24,#c0c0c0,#a2d6f3,#4c2b7b,#ffffff,#ffea0a"
									.split(",");
							var smartFilterColorCodeArr = "BEIGE,BEIGE,BLACK,BLUE,BROWN,BURGUNDY,CAMEL,GOLD,GREEN,GREY,IVORY,KHAKI,LAVENDER,METAL,MINT,MULTI,NAVY,OLIVE,ORANGE,PINK,PURPLE,RED,SILVER,SKY,VIOLET,WHITE,YELLOW"
									.split(",");
							var categoryArr = "".split(",");
							var brandArr = "".split(",");
							var colorArr = "".split(",");
							var sizeArr = "".split(",");
							var priceArr = "".split(",");
							var smartFilterStartYn = "Y";

							function smartFilterSearch(type) {
								var url = "/ko/hssearch/smartsearch";
								$
										.ajax({
											type : "get",
											url : url,
											data : {
												query : $("#query").val(),
												category : $("#category").val(),
												brand : $("#brand").val(),
												color : $("#color").val(),
												size : $("#size").val(),
												price : $("#price").val(),
												matter : $("#matter").val()
											},
											cache : false,
											dataType : "json",
											contentType : "application/json",
											error : function(request, status,
													error) {
												console.log("code:"
														+ request.status + "\n"
														+ "message:"
														+ request.responseText
														+ "\n" + "error:"
														+ error);
											},
											success : function(result) {
												var smartTotalCount = 0;
												var smartWomenListHtml = "";
												var smartMenListHtml = "";
												var smartLifeStyleListHtml = "";
												var smartBrandListHtml = "";
												var smartColorListHtml = "";
												var smartSizeListHtml = "";
												var smartPriceListHtml = "";
												if (result.length > 0) {
													smartTotalCount = result[0].totalCount;

													smartWomenListHtml = smartFilterHtml
															.women(result);
													smartMenListHtml = smartFilterHtml
															.men(result);
													smartLifeStyleListHtml = smartFilterHtml
															.lifeStyle(result);
													smartBrandListHtml = smartFilterHtml
															.brand(result);
													smartColorListHtml = smartFilterHtml
															.color(result);
													smartSizeListHtml = smartFilterHtml
															.size(result);
													smartPriceListHtml = smartFilterHtml
															.price(result);

													if (smartFilterStartYn == "Y") {
														$("#smartTotalCount")
																.text(
																		smartTotalCount + 1000);
													} else {
														$("#smartTotalCount")
																.text(
																		$(
																				"#nextSmartTotalCount")
																				.val());
													}
													$("#nextSmartTotalCount")
															.val(
																	smartTotalCount);

													if (type != "women") {
														$("#smartWomenList")
																.html(
																		smartWomenListHtml);
														if (smartWomenListHtml != "") {
															$("#smartWomenTab")
																	.show();
														} else {
															$("#smartWomenTab")
																	.hide();
														}
													}
													if (type != "men") {
														$("#smartMenList")
																.html(
																		smartMenListHtml);
														if (smartMenListHtml != "") {
															$("#smartMenTab")
																	.show();
														} else {
															$("#smartMenTab")
																	.hide();
														}
													}
													if (type != "lifeStyle") {
														$("#smartLifeStyleList")
																.html(
																		smartLifeStyleListHtml);
														if (smartLifeStyleListHtml != "") {
															$(
																	"#smartLifeStyleTab")
																	.show();
														} else {
															$(
																	"#smartLifeStyleTab")
																	.hide();
														}
													}
													if (type != "brand") {
														$("#smartBrandList")
																.html(
																		smartBrandListHtml);
														if (smartBrandListHtml != "") {
															$("#smartBrandTab")
																	.show();
														} else {
															$("#smartBrandTab")
																	.hide();
														}
													}
													if (type != "color") {
														$("#smartColorList")
																.html(
																		smartColorListHtml);
														if (smartColorListHtml != "") {
															$("#smartColorTab")
																	.show();
														} else {
															$("#smartColorTab")
																	.hide();
														}
													}
													if (type != "size") {
														$("#smartSizeList")
																.html(
																		smartSizeListHtml);
														if (smartSizeListHtml != "") {
															$("#smartSizeTab")
																	.show();
														} else {
															$("#smartSizeTab")
																	.hide();
														}
													}
													if (type != "price") {
														$("#smartPriceList")
																.html(
																		smartPriceListHtml);
														if (smartPriceListHtml != "") {
															$("#smartPriceTab")
																	.show();
														} else {
															$("#smartPriceTab")
																	.hide();
														}
													}

													var param = {
														query : $("#query")
																.val(),
														category : $(
																"#category")
																.val(),
														brand : (type == "brand" ? ""
																: $("#brand")
																		.val()),
														color : (type == "color" ? ""
																: $("#color")
																		.val()),
														size : (type == "size" ? ""
																: $("#size")
																		.val()),
														price : (type == "price" ? ""
																: $("#price")
																		.val()),
														matter : $("#matter")
																.val()
													};
													switch (type) {
													case "women":
													case "men":
													case "lifeStyle":
														param.category = "";
														break;
													}

													$
															.ajax({
																type : "get",
																url : url,
																data : param,
																cache : false,
																dataType : "json",
																contentType : "application/json",
																error : function(
																		request,
																		status,
																		error) {
																	console
																			.log("code:"
																					+ request.status
																					+ "\n"
																					+ "message:"
																					+ request.responseText
																					+ "\n"
																					+ "error:"
																					+ error);
																},
																success : function(
																		result) {
																	if (result.length > 0) {
																		switch (type) {
																		case "women":
																			smartWomenListHtml = smartFilterHtml
																					.women(result);
																			$(
																					"#smartWomenList")
																					.html(
																							smartWomenListHtml);
																			$(
																					"#smartWomenTab")
																					.show();
																			break;
																		case "men":
																			smartMenListHtml = smartFilterHtml
																					.men(result);
																			$(
																					"#smartMenList")
																					.html(
																							smartMenListHtml);
																			$(
																					"#smartMenTab")
																					.show();
																			break;
																		case "lifeStyle":
																			smartLifeStyleListHtml = smartFilterHtml
																					.lifeStyle(result);
																			$(
																					"#smartLifeStyleList")
																					.html(
																							smartLifeStyleListHtml);
																			$(
																					"#smartLifeStyleTab")
																					.show();
																			break;
																		case "brand":
																			smartBrandListHtml = smartFilterHtml
																					.brand(result);
																			$(
																					"#smartBrandList")
																					.html(
																							smartBrandListHtml);
																			$(
																					"#smartBrandTab")
																					.show();
																			break;
																		case "color":
																			smartColorListHtml = smartFilterHtml
																					.color(result);
																			$(
																					"#smartColorList")
																					.html(
																							smartColorListHtml);
																			$(
																					"#smartColorTab")
																					.show();
																			break;
																		case "size":
																			smartSizeListHtml = smartFilterHtml
																					.size(result);
																			$(
																					"#smartSizeList")
																					.html(
																							smartSizeListHtml);
																			$(
																					"#smartSizeTab")
																					.show();
																			break;
																		case "price":
																			smartPriceListHtml = smartFilterHtml
																					.price(result);
																			$(
																					"#smartPriceList")
																					.html(
																							smartPriceListHtml);
																			$(
																					"#smartPriceTab")
																					.show();
																			break;
																		}
																	}
																}
															});

													if (smartFilterStartYn == "Y") {
														smartFilterStartYn = "N";
													} else {
														$("#navTab03").click();
													}

													if ($("#smartFilterCnt")
															.val() * 1 == 0) {
														$(
																"#setUserSmartFilterDiv")
																.removeClass(
																		"active");
													}
												}
											}
										});
							}

							var smartFilterHtml = (function() {

								var filterItemCheckedHtml = function(
										checkedArr, itemName) {
									var smartCheckArr = $.trim(checkedArr)
											.split(",");
									var smartFilterChecked = "";
									for (var k = 0; k < smartCheckArr.length; k++) {
										if (smartCheckArr[k] == itemName) {
											smartFilterChecked = "checked=\"checked\"";
										}
									}
									return smartFilterChecked;
								};

								var women = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartWomenListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].category.women != null
													&& result[i].category.women.length > 0) {
												for (var j = 0; j < result[i].category.women.length; j++) {
													categoryNameArr = result[i].category.women[j].CATEGORY
															.split(">");
													categoryName = categoryNameArr[1]
															+ ">"
															+ categoryNameArr[2];
													smartFilterChecked = filterItemCheckedHtml(
															$("#women").val(),
															result[i].category.women[j].CATEGORY);
													smartWomenListHtml += "	<li class=\"check_area active\"> \n";
													smartWomenListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].category.women[j].CATEGORY
															+ "\" onclick=\"smartCheckClick(this, 'women');GA_Event('공통_스마트', '2DEPTH', '여성_"
															+ categoryName
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartWomenListHtml += "		<label for=\""+result[i].category.women[j].CATEGORY+"\">"
															+ categoryName
															+ "</label> \n";
													smartWomenListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartWomenListHtml;
								};

								var men = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartMenListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].category.men != null
													&& result[i].category.men.length > 0) {
												var categoryNameArr = "";
												for (var j = 0; j < result[i].category.men.length; j++) {
													categoryNameArr = result[i].category.men[j].CATEGORY
															.split(">");
													categoryName = categoryNameArr[1]
															+ ">"
															+ categoryNameArr[2];
													smartFilterChecked = filterItemCheckedHtml(
															$("#men").val(),
															result[i].category.men[j].CATEGORY);
													smartMenListHtml += "	<li class=\"check_area\"> \n";
													smartMenListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].category.men[j].CATEGORY
															+ "\" onclick=\"smartCheckClick(this, 'men');GA_Event('공통_스마트', '2DEPTH', '남성_"
															+ categoryName
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartMenListHtml += "		<label for=\""+result[i].category.men[j].CATEGORY+"\">"
															+ categoryName
															+ "</label> \n";
													smartMenListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartMenListHtml;
								};

								var lifeStyle = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartLifeStyleListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].category.lifeStyle != null
													&& result[i].category.lifeStyle.length > 0) {
												for (var j = 0; j < result[i].category.lifeStyle.length; j++) {
													categoryNameArr = result[i].category.lifeStyle[j].CATEGORY
															.split(">");
													categoryName = categoryNameArr[1]
															+ ">"
															+ categoryNameArr[2];
													smartFilterChecked = filterItemCheckedHtml(
															$("#lifeStyle")
																	.val(),
															result[i].category.lifeStyle[j].CATEGORY);
													smartLifeStyleListHtml += "	<li class=\"check_area\"> \n";
													smartLifeStyleListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].category.lifeStyle[j].CATEGORY
															+ "\" onclick=\"smartCheckClick(this, 'lifeStyle');GA_Event('공통_스마트', '2DEPTH', '라이프스타일_"
															+ categoryName
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartLifeStyleListHtml += "		<label for=\""+result[i].category.lifeStyle[j].CATEGORY+"\">"
															+ categoryName
															+ "</label> \n";
													smartLifeStyleListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartLifeStyleListHtml;
								};

								var brand = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartBrandListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].cateBrand != null
													&& result[i].cateBrand.length > 0) {
												for (var j = 0; j < result[i].cateBrand.length; j++) {
													smartFilterChecked = filterItemCheckedHtml(
															$("#brand").val(),
															result[i].cateBrand[j].BRANDNAME);
													smartBrandListHtml += "	<li class=\"check_area\"> \n";
													smartBrandListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].cateBrand[j].BRANDNAME
															+ "\" onclick=\"smartCheckClick(this, 'brand');GA_Event('공통_스마트', '2DEPTH', '브랜드_"
															+ escape(result[i].cateBrand[j].BRANDNAME)
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartBrandListHtml += "		<label for=\""+result[i].cateBrand[j].BRANDNAME+"\">"
															+ result[i].cateBrand[j].BRANDNAME
															+ "</label> \n";
													smartBrandListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartBrandListHtml;
								};

								var color = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartColorListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].cateColor != null
													&& result[i].cateColor.length > 0) {
												var colorWhite = "";
												var colorName = "";
												for (var j = 0; j < result[i].cateColor.length; j++) {
													colorWhite = "";
													if (result[i].cateColor[j].COLOR == "#ffffff") {
														colorWhite = "white";
													}
													for (var k = 0; k < smartFilterColorRgbArr.length; k++) {
														if (result[i].cateColor[j].COLOR == smartFilterColorRgbArr[k]) {
															colorName = smartFilterColorCodeArr[k];
														}
													}
													smartFilterChecked = filterItemCheckedHtml(
															$("#color").val(),
															result[i].cateColor[j].COLOR);
													smartColorListHtml += "	<li class=\"color_check\"> \n";
													smartColorListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].cateColor[j].COLOR
															+ "\" value=\""
															+ colorName
															+ "\" onclick=\"smartCheckClick(this, 'color');GA_Event('공통_스마트', '2DEPTH', '색상_"
															+ colorName
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartColorListHtml += "		<label for=\""+result[i].cateColor[j].COLOR+"\"> \n";
													smartColorListHtml += "			<span class=\"color "+colorWhite+"\" style=\"background:"+result[i].cateColor[j].COLOR+";\"></span> \n";
													smartColorListHtml += "			<span class=\"txt\">"
															+ colorName
															+ "</span> \n";
													smartColorListHtml += "		</label> \n";
													smartColorListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartColorListHtml;
								};

								var size = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartSizeListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].cateSize != null
													&& result[i].cateSize.length > 0) {
												for (var j = 0; j < result[i].cateSize.length; j++) {
													smartFilterChecked = filterItemCheckedHtml(
															$("#size").val(),
															result[i].cateSize[j].SIZE);
													smartSizeListHtml += "	<li class=\"box_check\"> \n";
													smartSizeListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].cateSize[j].SIZE
															+ "\" onclick=\"smartCheckClick(this, 'size');GA_Event('공통_스마트', '2DEPTH', '사이즈_"
															+ result[i].cateSize[j].SIZE
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartSizeListHtml += "		<label for=\""+result[i].cateSize[j].SIZE+"\">"
															+ result[i].cateSize[j].SIZE
															+ "</label> \n";
													smartSizeListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartSizeListHtml;
								};

								var price = function(result) {
									var categoryNameArr = "";
									var categoryName = "";
									var smartCheckArr;
									var smartFilterChecked = "";
									var smartPriceListHtml = "";

									for (var i = 0; i < result.length; i++) {
										if (result[i].category != null) {
											if (result[i].cateSalepriceGrp != null
													&& result[i].cateSalepriceGrp.length > 0) {
												var cateSalepriceGrpText = "";
												for (var j = 0; j < result[i].cateSalepriceGrp.length; j++) {
													smartFilterChecked = filterItemCheckedHtml(
															$("#price").val(),
															result[i].cateSalepriceGrp[j].SALEPRICE_GRP);
													if (result[i].cateSalepriceGrp[j].SALEPRICE_GRP == "A") {
														cateSalepriceGrpText = "￦100,000 이하";
													} else if (result[i].cateSalepriceGrp[j].SALEPRICE_GRP == "B") {
														cateSalepriceGrpText = "￦100,000 ~ ￦300,000";
													} else if (result[i].cateSalepriceGrp[j].SALEPRICE_GRP == "C") {
														cateSalepriceGrpText = "￦300,000 ~ ￦500,000";
													} else if (result[i].cateSalepriceGrp[j].SALEPRICE_GRP == "D") {
														cateSalepriceGrpText = "￦500,000 ~ ￦1,000,000";
													} else if (result[i].cateSalepriceGrp[j].SALEPRICE_GRP == "E") {
														cateSalepriceGrpText = "￦1,000,000 이상";
													}
													smartPriceListHtml += "	<li class=\"check_area\"> \n";
													smartPriceListHtml += "		<input type=\"checkbox\" id=\""
															+ result[i].cateSalepriceGrp[j].SALEPRICE_GRP
															+ "\" value=\""
															+ cateSalepriceGrpText
															+ "\" onclick=\"smartCheckClick(this, 'price');GA_Event('공통_스마트', '2DEPTH', '가격대_"
															+ cateSalepriceGrpText
															+ "');\" "
															+ smartFilterChecked
															+ "> \n";
													smartPriceListHtml += "		<label for=\""+result[i].cateSalepriceGrp[j].SALEPRICE_GRP+"\">"
															+ cateSalepriceGrpText
															+ "</label> \n";
													smartPriceListHtml += "	</li> \n";
												}
											}
										}
									}
									return smartPriceListHtml;
								};

								return {

									women : women,

									men : men,

									lifeStyle : lifeStyle,

									brand : brand,

									color : color,

									size : size,

									price : price
								}
							})();

							function smartCheckClick(obj, type) {
								var smartCheckVal = $("#" + type).val();
								var categoryVal = $("#category").val();
								if (obj.checked) {
									if (smartCheckVal != "") {
										smartCheckVal = smartCheckVal + ",";
									}
									if (type == "women" || type == "men"
											|| type == "lifeStyle") {
										if (categoryVal != "") {
											categoryVal = categoryVal + ",";
										}
										setUserSmartFilterVal("#category",
												categoryVal + obj.id);
									}
									setUserSmartFilterVal("#" + type,
											smartCheckVal + obj.id);
									userSmartFilterLiAdd(obj, type);
									smartFilterSearch(type);
								} else {
									smartFilterRemove(obj.id, type);
								}
							}

							function setUserSmartFilterVal(id1, val1) {
								$(id1).val(val1);
							}

							function userSmartFilterLiAdd(obj, type) {
								var setUserSmartFilterLi = "";
								var userSmartFilterNameArr = obj.id.split(">");
								var userSmartFilterName = obj.id;
								var userSmartFilterId = strGnbReplace(obj.id);
								var userSmartFilterClass = "";

								if (type == "brand") {
									userSmartFilterId = "brand"
											+ userSmartFilterId;
								}
								if (type == "color") {
									userSmartFilterId = "color"
											+ userSmartFilterId;
								}
								if (type == "size") {
									userSmartFilterId = "size"
											+ userSmartFilterId;
								}
								if (type == "price") {
									userSmartFilterId = "price"
											+ userSmartFilterId;
								}
								if (type == "women") {
									userSmartFilterClass = "woman";
									userSmartFilterName = userSmartFilterNameArr[1]
											+ ">" + userSmartFilterNameArr[2];
								} else if (type == "men") {
									userSmartFilterClass = "man";
									userSmartFilterName = userSmartFilterNameArr[1]
											+ ">" + userSmartFilterNameArr[2];
								} else if (type == "lifeStyle") {
									userSmartFilterClass = "life";
									userSmartFilterName = userSmartFilterNameArr[1]
											+ ">" + userSmartFilterNameArr[2];
								} else if (type == "brand") {
									userSmartFilterClass = "";
								} else if (type == "color") {
									if (obj.id == "#ffffff") {
										userSmartFilterClass = "";
										userSmartFilterName = "<span class=\"color white\" style=\"background:"+obj.id+";\"></span> \n <span class=\"txt\">"
												+ obj.value + "</span> \n";
									} else {
										userSmartFilterClass = "";
										userSmartFilterName = "<span class=\"color\" style=\"background:"+obj.id+";\"></span> \n <span class=\"txt\">"
												+ obj.value + "</span> \n";
									}
								} else if (type == "size") {
									userSmartFilterClass = "";
								} else if (type == "price") {
									userSmartFilterClass = "";
									userSmartFilterName = "<span class=\"name\">"
											+ obj.value + "</span> \n";
								}

								setUserSmartFilterLi += "<li class=\"flag swiper-slide "+userSmartFilterClass+" active swiper-slide-active\" id=\""+userSmartFilterId+"\" style=\"margin-right: 6px;\"> \n";
								setUserSmartFilterLi += "	<span class=\"name\"> \n";
								setUserSmartFilterLi += "		"
										+ userSmartFilterName + " \n";
								setUserSmartFilterLi += "	</span> \n";
								setUserSmartFilterLi += "	<a href=\"javascript:noLink();\" class=\"delete\" onclick=\"smartFilterSlideRemove('"
										+ obj.id.replace("'", "!@@!").replace(
												"'", "!@@!")
										+ "', '"
										+ type
										+ "');\">삭제</a> \n";
								setUserSmartFilterLi += "</li> \n";

								$("#setUserSmartFilter").append(
										setUserSmartFilterLi);
								$("#smartFilterCnt").val(
										$("#smartFilterCnt").val() * 1 + 1);
							}

							function smartFilterSlideRemove(id, type) {
								var changeId = id.replace("!@@!", "'").replace(
										"!@@!", "'");
								smartFilterRemove(changeId, type);
							}

							function smartFilterRemove(id, type) {
								var smartCheckVal = $("#" + type).val();
								var categoryVal = $("#category").val();
								var smartCheckValArr = smartCheckVal.split(",");
								smartCheckVal = "";
								for (var i = 0; i < smartCheckValArr.length; i++) {
									if (id != smartCheckValArr[i]) {
										if (smartCheckVal == "") {
											smartCheckVal = smartCheckValArr[i];
										} else {
											smartCheckVal += ","
													+ smartCheckValArr[i];
										}
									}
								}
								if (type == "women" || type == "men"
										|| type == "lifeStyle") {
									var categoryValArr = categoryVal.split(",");
									categoryVal = "";
									for (var i = 0; i < categoryValArr.length; i++) {
										if (id != categoryValArr[i]) {
											if (categoryVal == "") {
												categoryVal = categoryValArr[i];
											} else {
												categoryVal += ","
														+ categoryValArr[i];
											}
										}
									}
									setUserSmartFilterVal("#category",
											categoryVal);
								}

								setUserSmartFilterVal("#" + type, smartCheckVal);
								var userSmartFilterId = strGnbReplace(id);
								if (type == "brand") {
									userSmartFilterId = "brand"
											+ userSmartFilterId;
								}
								if (type == "color") {
									userSmartFilterId = "color"
											+ userSmartFilterId;
								}
								if (type == "size") {
									userSmartFilterId = "size"
											+ userSmartFilterId;
								}
								if (type == "price") {
									userSmartFilterId = "price"
											+ userSmartFilterId;
								}
								$("#" + userSmartFilterId).remove();
								$("#smartFilterCnt").val(
										$("#smartFilterCnt").val() * 1 - 1);
								smartFilterSearch(type);
							}

							function smartFilterSave() {

								var saveData = {
									"smartWomenFilter" : $("#women").val(),
									"smartMenFilter" : $("#men").val(),
									"smartLifeStyleFilter" : $("#lifeStyle")
											.val(),
									"smartBrandFilter" : $("#brand").val(),
									"smartColorFilter" : $("#color").val(),
									"smartSizeFilter" : $("#size").val(),
									"smartPriceFilter" : $("#price").val()
								};
								$.ajax({
									type : "GET",
									url : "/ko/intro/setUserSmartFilter",
									data : saveData,
									success : function(data) {
										$("#mySmartFilterRing").click();
									},
									error : function(e) {
										console.log("error", e);
									}
								});

							}

							function smartFilterDelete(smartFilterPk) {

								var lc = new layerConfirm("해당 내역 을 삭제하시겠습니까? ",
										'확인', '취소');
								lc.confirmAction = function() {
									$
											.ajax({
												type : "GET",
												url : "/ko/intro/deleteUserSmartFilter",
												data : {
													"smartFilterPk" : smartFilterPk
												},
												success : function(data) {
													var lcSuccess = new layerAlert(
															"삭제가 완료 되었습니다.");
													lcSuccess.confirmAction = function() {
														smartFilterList();
													};
												},
												error : function(e) {
													layerAlert("삭제를 실패하였습니다.");
												}
											});
								};

							}

							function smartFilterReset() {
								//필터보내는 param초기화
								$("#query").val("");
								$("#women").val("");
								$("#men").val("");
								$("#lifeStyle").val("");
								$("#category").val("");
								$("#brand").val("");
								$("#color").val("");
								$("#size").val("");
								$("#price").val("");
								$("#matter").val("");

								//좌측 선택부분 초기화
								$("#smartWomenTab").removeClass("on");
								$("#smartMenTab").removeClass("on");
								$("#smartLifeStyleTab").removeClass("on");
								$("#smartBrandTab").removeClass("on");
								$("#smartColorTab").removeClass("on");
								$("#smartSizeTab").removeClass("on");
								$("#smartPriceTab").removeClass("on");

								//우측 영역 초기화
								$("#smart_tab01").removeClass("on");
								$("#smart_tab02").removeClass("on");
								$("#smart_tab03").removeClass("on");
								$("#smart_tab04").removeClass("on");
								$("#smart_tab05").removeClass("on");
								$("#smart_tab06").removeClass("on");
								$("#smart_tab07").removeClass("on");

								$("#smartFilterCnt").val("0");
								$("#smartFilterSaveBtn").removeClass("active");
								var quickSSmartTagSwiperTemp = $("#setUserSmartFilterDiv")[0].swiper;
								quickSSmartTagSwiperTemp.removeAllSlides();
								smartFilterSearch();
							}

							function smartFilterSearchCount() {
								var colorFilter = $("#color").val();
								if (colorFilter != null || colorFilter != "") {
									colorFilter = colorFilter.replace(/#/g, '')
								}
								location.href = "/ko/hssearch/searchsmartfilter?"
										+ "smartWomenFilter="
										+ $("#women").val()
										+ "&smartMenFilter="
										+ $("#men").val()
										+ "&smartLifeStyleFilter="
										+ $("#lifeStyle").val()
										+ "&brand="
										+ $("#brand").val()
										+ "&color="
										+ colorFilter
										+ "&size="
										+ $("#size").val()
										+ "&price="
										+ $("#price").val();
							}
							function fnShareFilterData(obj) {

								var $this = $(obj);
								var shareFilterUrl = $this.closest('.btn_wrap')
										.find('.shareFilterUrlLink').text();

								initShareData(encodeURI(shareFilterUrl), '',
										'', '[THEHANDSOME] 스마트 필터링', '');

							}
							function smartFilterList() {
								var url = "/ko/intro/userSmartFilter";
								$
										.ajax({
											type : "get",
											url : url,
											cache : false,
											dataType : "json",
											contentType : "application/json",
											async : false,
											error : function(request, status,
													error) {
												console.log("code:"
														+ request.status + "\n"
														+ "message:"
														+ request.responseText
														+ "\n" + "error:"
														+ error);
											},
											success : function(result) {
												$("#mySmartFilter").empty();
												var resultDataList = result;
												if (resultDataList.length > 0) {
													for (var i = 0; i < resultDataList.length; i++) {
														var setMySmartFilterList = "";
														var categoryFilter = "";

														if (resultDataList[i].smartWomenFilter != "") {
															categoryFilter = resultDataList[i].smartWomenFilter;
														} else if (resultDataList[i].smartMenFilter != "") {
															categoryFilter = resultDataList[i].smartMenFilter;
														} else if (resultDataList[i].smartLifeStyleFilter != "") {
															categoryFilter = resultDataList[i].smartLifeStyleFilter;
														}

														$
																.ajax({
																	type : "get",
																	url : "/ko/hssearch/asyncSearch",
																	data : {
																		sort : "smartFilterDate",
																		collection : "",
																		query : "",
																		reQuery : "",
																		realQuery : "",
																		catequery_cate_1st : "",
																		catequery_cate : categoryFilter,
																		catequery_brand : resultDataList[i].smartBrandFilter,
																		catequery_saleprice_grp : resultDataList[i].smartPriceFilter,
																		catequery_color : resultDataList[i].smartColorFilter,
																		catequery_size : resultDataList[i].smartSizeFilter,
																		catequery_matter : ""
																	},
																	async : false,
																	dataType : "json",
																	contentType : "application/x-www-form-urlencoded;charset=UTF-8",
																	success : function(
																			data) {
																		var shareFilterUrl = "/ko/hssearch/searchsmartfilter?"
																				+ "smartWomenFilter="
																				+ resultDataList[i].smartWomenFilter
																				+ "&smartMenFilter="
																				+ resultDataList[i].smartMenFilter
																				+ "&smartLifeStyleFilter="
																				+ resultDataList[i].smartLifeStyleFilter
																				+ "&brand="
																				+ resultDataList[i].smartBrandFilter
																				+ "&color="
																				+ resultDataList[i].smartColorFilter
																				+ "&size="
																				+ resultDataList[i].smartSizeFilter
																				+ "&price="
																				+ resultDataList[i].smartPriceFilter
																				+ "&uiel=Mobile";

																		setMySmartFilterList += "<li class='list'>";
																		setMySmartFilterList += "	<div class='top_cont'>";
																		setMySmartFilterList += "    	<p class='data'>"
																				+ resultDataList[i].smartFilterDate
																				+ "</p>";
																		setMySmartFilterList += "		<div class='btn_wrap'>";
																		setMySmartFilterList += "        	<button type='button' class='delete' onclick='smartFilterDelete("
																				+ resultDataList[i].smartFilterPK
																				+ ");GA_Event(\"스마트_필터\",\"샵\",\"삭제\");'>삭제</button>";

																		setMySmartFilterList += "			<a href='.hs_share_pop' class='share btn_popup_btot' onclick='fnShareFilterData(this);GA_Event(\"스마트_필터\",\"샵\",\"공유하기\");'><button type='button' class='share'></button></a>";

																		setMySmartFilterList += "			<div class='shareFilterUrlLink' style='display:none'>"
																				+ shareFilterUrl
																				+ "</div>";
																		setMySmartFilterList += "		</div>";
																		setMySmartFilterList += "	</div>";
																		setMySmartFilterList += "	<div class='flag_wrap'>";
																		setMySmartFilterList += "		<ul>";

																		//WOMAN
																		if (resultDataList[i].smartWomenFilter != "") {
																			//3 depth
																			var smartWomenFilters = resultDataList[i].smartWomenFilter
																					.split(',');
																			for (var j = 0; j < smartWomenFilters.length; j++) {
																				var smartWomenFilter = smartWomenFilters[j]
																						.split(">");
																				setMySmartFilterList += "		<li class='flag woman'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ smartWomenFilter[1]
																						+ ">"
																						+ smartWomenFilter[2]
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		//MAN
																		if (resultDataList[i].smartMenFilter != "") {
																			//3 depth
																			var smartMenFilters = resultDataList[i].smartMenFilter
																					.split(',');
																			for (var j = 0; j < smartMenFilters.length; j++) {
																				var smartMenFilter = smartMenFilters[j]
																						.split(">");
																				setMySmartFilterList += "		<li class='flag man'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ smartMenFilter[1]
																						+ ">"
																						+ smartMenFilter[2]
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		//LIFESTYLE
																		if (resultDataList[i].smartLifeStyleFilter != "") {
																			//3 depth
																			var smartLifeStyleFilters = resultDataList[i].smartLifeStyleFilter
																					.split(',');
																			for (var j = 0; j < smartLifeStyleFilters.length; j++) {
																				var smartLifeStyleFilter = smartLifeStyleFilters[j]
																						.split(">");
																				setMySmartFilterList += "		<li class='flag life'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ smartLifeStyleFilter[1]
																						+ ">"
																						+ smartLifeStyleFilter[2]
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		//BRAND
																		if (resultDataList[i].smartBrandFilter != "") {
																			var smartBrandFilters = resultDataList[i].smartBrandFilter
																					.split(',');
																			for (var j = 0; j < smartBrandFilters.length; j++) {
																				setMySmartFilterList += "		<li class='flag'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ smartBrandFilters[j]
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		//COLOR
																		if (resultDataList[i].smartColorFilter != "") {
																			var mySmartFilterColorRgbArr = "#fae7c4,#fae7c4,#000000,#0f45bc,#673915,#741313,#876c41,#ffc733,#0f6f0e,#444445,#fff8d9,#465626,#9c81bb,#9d9fa2,#95d0ab,#534741,#061836,#5d682d,#ee6423,#ea589b,#833b95,#ec1e24,#c0c0c0,#a2d6f3,#4c2b7b,#ffffff,#ffea0a"
																					.split(",");
																			var mySmartFilterColorCodeArr = "BEIGE,BEIGE,BLACK,BLUE,BROWN,BURGUNDY,CAMEL,GOLD,GREEN,GREY,IVORY,KHAKI,LAVENDER,METAL,MINT,MULTI,NAVY,OLIVE,ORANGE,PINK,PURPLE,RED,SILVER,SKY,VIOLET,WHITE,YELLOW"
																					.split(",");
																			var colorName = "";

																			var smartColorFilters = resultDataList[i].smartColorFilter
																					.split(',');
																			for (var j = 0; j < smartColorFilters.length; j++) {
																				for (var k = 0; k < mySmartFilterColorRgbArr.length; k++) {
																					if (("#" + smartColorFilters[j]) == mySmartFilterColorRgbArr[k]) {
																						colorName = mySmartFilterColorCodeArr[k];
																						setMySmartFilterList += "		<li class='flag'>";
																						if (smartColorFilters[j] == "ffffff") {
																							setMySmartFilterList += "			<span class='name'><span class='color white' style='background:#"+smartColorFilters[j]+";'></span>"
																									+ colorName
																									+ "</span>";
																						} else {
																							setMySmartFilterList += "			<span class='name'><span class='color' style='background:#"+smartColorFilters[j]+";'></span>"
																									+ colorName
																									+ "</span>";
																						}

																						setMySmartFilterList += "		</li>";
																						break;
																					}
																				}
																			}
																		}
																		//SIZE
																		if (resultDataList[i].smartSizeFilter != "") {
																			var smartSizeFilters = resultDataList[i].smartSizeFilter
																					.split(',');
																			for (var j = 0; j < smartSizeFilters.length; j++) {
																				setMySmartFilterList += "		<li class='flag'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ smartSizeFilters[j]
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		//PRICE
																		if (resultDataList[i].smartPriceFilter != "") {
																			var smartPriceFilters = resultDataList[i].smartPriceFilter
																					.split(',');
																			for (var j = 0; j < smartPriceFilters.length; j++) {
																				var smartPriceFilter = smartPriceFilters[j];
																				var priceAmout = "";
																				if (smartPriceFilter == "A") {
																					priceAmout = "￦100,000 이하";
																				} else if (smartPriceFilter == "B") {
																					priceAmout = "￦100,000 ~ ￦300,000";
																				} else if (smartPriceFilter == "C") {
																					priceAmout = "￦300,000 ~ ￦500,000";
																				} else if (smartPriceFilter == "D") {
																					priceAmout = "￦500,000 ~ ￦1,000,000";
																				} else if (smartPriceFilter == "E") {
																					priceAmout = "￦1,000,000 이상";
																				}
																				setMySmartFilterList += "		<li class='flag'>";
																				setMySmartFilterList += "			<span class='name'>"
																						+ priceAmout
																						+ "</span>";
																				setMySmartFilterList += "		</li>";
																			}
																		}
																		setMySmartFilterList += "			</ul>";
																		setMySmartFilterList += "		</div>";

																		//상품리스트 영역 ajax.. var categoryFilter = "";
																		if (data.totalCount > 0) {
																			resultProductList = data.product;
																			window.sessionStorage
																					.setItem(
																							'smart_ecommerceDataList_size',
																							i);
																			window.sessionStorage
																					.setItem(
																							'smart_ecommerceDataList_'
																									+ i,
																							JSON
																									.stringify(resultProductList));
																			setMySmartFilterList += "		<div class='product_list swiper-container'>";
																			setMySmartFilterList += "			<ul class='swiper-wrapper'>";
																			//ProductData는 1번부터존재
																			for (var j = 1; j < resultProductList.length; j++) {
																				setMySmartFilterList += "			<li class='swiper-slide'>";
																				setMySmartFilterList += "				<a href='/ko/"
																						+ resultProductList[j].PRODUCTDETAILURL
																						+ "' onclick=\"setEcommerceData('"
																						+ j
																						+ "', 'SMART', '"
																						+ i
																						+ "');\">";
																				setMySmartFilterList += "					<div class='img'><img src='"+resultProductList[j].THUMBNAIL+"' onError=\"this.src='/_ui/handsomemobile/images/common/no_img.jpg'\" alt=''></div>";
																				setMySmartFilterList += "					<div class='txt'>";
																				setMySmartFilterList += "						<p class='name'>"
																						+ resultProductList[j].BRANDNAME
																						+ "</p>";

																				setMySmartFilterList += "						<p class='price'>₩"
																						+ numberWithCommas(resultProductList[j].SALEPRICE)
																						+ "</p>";

																				setMySmartFilterList += "					</div>";
																				setMySmartFilterList += "				</a>";
																				setMySmartFilterList += "			</li>";
																			}
																			setMySmartFilterList += "			</ul>";
																			setMySmartFilterList += "			<div class='more_btn'><a href='/ko/hssearch/searchsmartfilter?smartFilterPk="
																					+ resultDataList[i].smartFilterPK
																					+ "' onclick='GA_Event(\"스마트_필터\",\"샵\",\"더보기\");' >더보기</a></div>";
																			setMySmartFilterList += "		</div>";
																		} else {
																			setMySmartFilterList += "		<div>";
																			setMySmartFilterList += "			<p>선택한 조건에 맞는 상품이 없습니다.<br> 조건을 다시 선택해주세요.</p>";
																			setMySmartFilterList += "		</div>";
																		}
																		setMySmartFilterList += "</li>";
																		$(
																				"#mySmartFilter")
																				.append(
																						setMySmartFilterList);

																		$(
																				document)
																				.on(
																						'click',
																						'.btn_popup_btot',
																						function() {
																							var $popup = $(
																									this)
																									.attr(
																											'href');

																							$(
																									$popup)
																									.addClass(
																											'visible');
																							setTimeout(
																									function() {
																										$(
																												$popup)
																												.addClass(
																														'active');
																									},
																									0);

																							$(
																									'.hs_pro_view_layer')
																									.css(
																											"display",
																											"block");

																							return false;
																						});

																		$(
																				'.hsome_layer_popup02 .pop-comm-cls')
																				.click(
																						function() {
																							$(
																									'.hsome_layer_popup02')
																									.removeClass(
																											'active');
																							//콜렉션에 담기 라는 문구가 나옵니다.
																							// 					    			$('.hsome_layer_popup02').addClass('disabled');
																							$(
																									'.hs_pro_view_layer')
																									.fadeOut(
																											'fast');

																							setTimeout(
																									function() {
																										$(
																												'.hsome_layer_popup02')
																												.removeClass(
																														'disabled');
																									},
																									400);

																							return false;

																						});
																	},
																	beforeSend : function() {
																		$(
																				"#loadingBarDiv")
																				.css(
																						"display",
																						"block");
																	},
																	complete : function() {
																		$(
																				"#loadingBarDiv")
																				.css(
																						"display",
																						"none");
																		//doMenuGroupDrawSub();
																	},
																	error : function(
																			request,
																			status,
																			error) {
																		console
																				.log("code:"
																						+ request.status
																						+ "\n"
																						+ "message:"
																						+ request.responseText
																						+ "\n"
																						+ "error:"
																						+ error);
																	}
																});
													}
												} else {
													$("#mySmartFilter")
															.append(
																	"<li class='no_list'><span>저장한 조건이 없습니다.</span></li>");
													//스마트 필터링 리스트가 존재하지 않습니다.
												}
											}
										});
							}

							function newSmartFilter() {
								smartFilterReset();
							}

							function numberWithCommas(x) {
								return x.toString().replace(
										/\B(?=(\d{3})+(?!\d))/g, ",");
							}

							/**
							 *  공유 스크립트 시작
							 */
							var userAgent = navigator.userAgent
									.toLocaleLowerCase();

							function isSafariBrowser() {
								var isSafari = navigator.userAgent
										.toLowerCase().indexOf('safari') > -1;
								var isChrome = navigator.userAgent
										.toLowerCase().indexOf('chrome') > -1;

								if (isSafari == true) {
									if (isChrome == true) {
										isSafari = false;
									}
								}

								return Object.prototype.toString.call(
										window.HTMLElement).indexOf(
										'Constructor') > 0
										|| isSafari;
							}

							function strGnbReplace(str) {
								var reStr = strGnbReplaceTrim(str.replace(">",
										"").replace(">", "").replace(">", "")
										.replace("#", "").replace("#", "")
										.replace("/", "").replace("/", "")
										.replace("*", "").replace("*", "")
										.replace(":", "").replace(":", "")
										.replace("'", "").replace("'", ""));
								return reStr;
							}

							function strGnbReplaceTrim(str) {
								var reStr = str.replace(/\s/gi, "");
								return reStr;
							}

							function setEcommerceData(idx, type, categoryCode) {
								var listNm = "";
								var prodList;

								prodList = JSON.parse(window.sessionStorage
										.getItem('smart_ecommerceDataList_'
												+ categoryCode));
								listNm += "스마트_스마트 필터링";

								if (prodList != null
										&& typeof prodList != undefined) {
									if (prodList.length > 0) {
										var prodInfo = prodList[idx];

										if (listNm != "") {
											dataLayer
													.push({
														'event' : 'ga_event',
														'layerCategory' : 'Ecommerce',
														'layerAction' : 'Click',
														'layerLabel' : undefined,
														'ecommerce' : {
															'currencyCode' : 'KRW', //통화
															'click' : {
																'actionField' : {
																	'list' : listNm
																}, //상품 리스트명
																'products' : [ {
																	'id' : prodInfo.DOCID, //상품코드
																	'name' : prodInfo.NAME, //상품명
																	'brand' : prodInfo.BRANDNAME, //상품 브랜드
																	'category' : '', //상품 카테고리
																	'position' : 15
																//상품 위치
																} ]
															}
														}
													});

											/* Ecommerce data 초기화
											dataLayer에 남아 있는 경우에는 전자상거래 단계만을 위해 사용하는
											필드들이 세팅되어 있으므로 undefined를 통해 초기화합니다. */
											dataLayer.push({
												'layerCategory' : undefined,
												'layerAction' : undefined,
												'nonInteraction' : false,
												'ecommerce' : undefined
											});

										}
									}
								}
							}

							function exchangeRatePrice(koPrice) {

								return exchangeAmt;
							}
						</script>

						<input type="hidden" id="smartFilterCnt" value="0"> <input
							type="hidden" id="query" value=""> <input type="hidden"
							id="category" value=""> <input type="hidden" id="women"
							value=""> <input type="hidden" id="men" value="">
						<input type="hidden" id="lifeStyle" value=""> <input
							type="hidden" id="brand" value=""> <input type="hidden"
							id="color" value=""> <input type="hidden" id="size"
							value=""> <input type="hidden" id="price" value="">
						<input type="hidden" id="matter" value="">

						<form id="search" class="m_search_form"
							action="/ko/hssearchmobile/searchCount" name="search"
							accept-charset="" target="" method="post">
							<input type="hidden" name="CSRFToken"
								value="06ce81b0-2bc7-4107-a593-1cd6a21ab93a"> <input
								type="hidden" name="startCount" value=""> <input
								type="hidden" name="mode" value=""> <input type="hidden"
								name="sort" value=""> <input type="hidden"
								name="collection" value=""> <input type="hidden"
								name="range" value=""> <input type="hidden"
								name="startDate" value=""> <input type="hidden"
								name="endDate" value=""> <input type="hidden"
								name="searchField" value=""> <input type="hidden"
								id="prefixQuery" value=""> <input type="hidden"
								name="identity" value=""> <input type="hidden"
								name="reQuery"> <input type="hidden" id="realQuery"
								name="realQuery" value=""> <input type="hidden"
								id="loginState" value="loginOn"> <input type="hidden"
								id="athomeInfo" value=""> <input type="hidden"
								id="selectedLang" name="selectedLang" value="product_ko">
							<input type="hidden" id="lang" name="lang" value="ko"> <input
								type="hidden" id="brandPageGubun" name="brandPageGubun"
								value="off"> <input type="hidden" id="query"
								name="query" onkeyup="pressCheck((event),this);" value=""
								autocomplete="off">
						</form>

					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<a href="javascript:noLink();" class="close"
				onclick="navShopClose();">닫기</a>
		</div>
	</div>
	<div class="hs_pro_view_layer"></div>
	<!-- 팝업 배경 레이어 -->
	<edited:editednavpopup></edited:editednavpopup>
	<!-- //Contents -->
</div>
</html>